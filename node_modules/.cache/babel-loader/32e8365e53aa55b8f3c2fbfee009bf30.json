{"ast":null,"code":"$(function () {\n  var $form = $(\"form.awesome-edit-config\");\n\n  if ($form.length > 0) {\n    $form.find(\"input, textarea, select\").on(\"change\", function () {\n      $form.data(\"changed\", true);\n    });\n    var safePath = $form.data(\"safe-path\").split(\"?\")[0];\n    $(document).on(\"click\", \"a\", function (event) {\n      window.exitUrl = event.currentTarget.href;\n    });\n    $(document).on(\"submit\", \"form\", function (event) {\n      window.exitUrl = event.currentTarget.action;\n    });\n    window.addEventListener(\"beforeunload\", function (event) {\n      var exitUrl = window.exitUrl;\n      var hasChanged = $form.data(\"changed\");\n      window.exitUrl = null;\n\n      if (!hasChanged || exitUrl && exitUrl.includes(safePath)) {\n        return null;\n      }\n\n      event.returnValue = true;\n    });\n  }\n});","map":{"version":3,"mappings":"AAAAA,CAAC,CAAC,YAAM;EACN,IAAMC,KAAK,GAAGD,CAAC,CAAC,0BAAD,CAAf;;EACA,IAAIC,KAAK,CAACC,MAAND,GAAe,CAAnB,EAAsB;IACpBA,KAAK,CAACE,IAANF,CAAW,yBAAXA,EAAsCG,EAAtCH,CAAyC,QAAzCA,EAAmD,YAAM;MACvDA,KAAK,CAACI,IAANJ,CAAW,SAAXA,EAAsB,IAAtBA;IADF;IAIA,IAAMK,QAAQ,GAAGL,KAAK,CAACI,IAANJ,CAAW,WAAXA,EAAwBM,KAAxBN,CAA8B,GAA9BA,EAAmC,CAAnCA,CAAjB;IACAD,CAAC,CAACQ,QAAD,CAADR,CAAYI,EAAZJ,CAAe,OAAfA,EAAwB,GAAxBA,EAA6B,UAACS,KAAD,EAAW;MACtCC,MAAM,CAACC,OAAPD,GAAiBD,KAAK,CAACG,aAANH,CAAoBI,IAArCH;IADF;IAGAV,CAAC,CAACQ,QAAD,CAADR,CAAYI,EAAZJ,CAAe,QAAfA,EAAyB,MAAzBA,EAAiC,UAACS,KAAD,EAAW;MAC1CC,MAAM,CAACC,OAAPD,GAAiBD,KAAK,CAACG,aAANH,CAAoBK,MAArCJ;IADF;IAIAA,MAAM,CAACK,gBAAPL,CAAwB,cAAxBA,EAAwC,UAACD,KAAD,EAAW;MACjD,IAAME,OAAO,GAAGD,MAAM,CAACC,OAAvB;MACA,IAAMK,UAAU,GAAGf,KAAK,CAACI,IAANJ,CAAW,SAAXA,CAAnB;MACAS,MAAM,CAACC,OAAPD,GAAiB,IAAjBA;;MAEA,IAAI,CAACM,UAAD,IAAgBL,OAAO,IAAIA,OAAO,CAACM,QAARN,CAAiBL,QAAjBK,CAA/B,EAA4D;QAC1D,OAAO,IAAP;MACD;;MAEDF,KAAK,CAACS,WAANT,GAAoB,IAApBA;IATF;EAWD;AA1BF,EAADT","names":["$","$form","length","find","on","data","safePath","split","document","event","window","exitUrl","currentTarget","href","action","addEventListener","hasChanged","includes","returnValue"],"sources":["/home/injam/.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/gems/decidim-decidim_awesome-0.8.3/app/packs/src/decidim/decidim_awesome/admin/form_exit_warn.js"],"sourcesContent":["$(() => {\n  const $form = $(\"form.awesome-edit-config\");\n  if ($form.length > 0) {\n    $form.find(\"input, textarea, select\").on(\"change\", () => {\n      $form.data(\"changed\", true);\n    });\n\n    const safePath = $form.data(\"safe-path\").split(\"?\")[0];\n    $(document).on(\"click\", \"a\", (event) => {\n      window.exitUrl = event.currentTarget.href;\n    });\n    $(document).on(\"submit\", \"form\", (event) => {\n      window.exitUrl = event.currentTarget.action;\n    });\n\n    window.addEventListener(\"beforeunload\", (event) => {\n      const exitUrl = window.exitUrl;\n      const hasChanged = $form.data(\"changed\");\n      window.exitUrl = null;\n\n      if (!hasChanged || (exitUrl && exitUrl.includes(safePath))) {\n        return null;\n      }\n\n      event.returnValue = true;\n    });\n  }\n});\n"]},"metadata":{},"sourceType":"module"}