{"ast":null,"code":"import AwesomeMap from \"src/decidim/decidim_awesome/awesome_map/awesome_map\";\n$(function () {\n  var sanitizeCenter = function sanitizeCenter(string) {\n    if (string) {\n      var parts = string.split(\",\");\n\n      if (parts.length >= 2) {\n        var lat = parseFloat(parts[0]);\n        var lng = parseFloat(parts[1]);\n\n        if (lat && lng) {\n          return [lat, lng];\n        }\n      }\n    }\n  };\n\n  var config = {\n    length: $(\"#awesome-map\").data(\"truncate\") || 254,\n    center: sanitizeCenter($(\"#awesome-map\").data(\"map-center\")),\n    zoom: $(\"#awesome-map\").data(\"map-zoom\"),\n    menu: {\n      amendments: $(\"#awesome-map\").data(\"menu-amendments\"),\n      meetings: $(\"#awesome-map\").data(\"menu-meetings\"),\n      categories: $(\"#awesome-map\").data(\"menu-categories\"),\n      hashtags: $(\"#awesome-map\").data(\"menu-hashtags\"),\n      mergeComponents: $(\"#awesome-map\").data(\"menu-merge-components\")\n    },\n    show: {\n      withdrawn: $(\"#awesome-map\").data(\"show-withdrawn\"),\n      accepted: $(\"#awesome-map\").data(\"show-accepted\"),\n      evaluating: $(\"#awesome-map\").data(\"show-evaluating\"),\n      notAnswered: $(\"#awesome-map\").data(\"show-not-answered\"),\n      rejected: $(\"#awesome-map\").data(\"show-rejected\")\n    },\n    hideControls: $(\"#awesome-map\").data(\"hide-controls\"),\n    collapsedMenu: $(\"#awesome-map\").data(\"collapsed\"),\n    components: $(\"#awesome-map\").data(\"components\")\n  }; // build awesome map (if exist)\n\n  $(\"#awesome-map .google-map\").on(\"ready.decidim\", function (evt, map) {\n    // bindPopup doesn't work for some unknown cause and these handler neither so we're cancelling them\n    map.off(\"popupopen\");\n    map.off(\"popupclose\"); // console.log(\"ready map\", map);\n\n    window.AwesomeMap = new AwesomeMap(map, config);\n    window.AwesomeMap.loadControllers();\n  });\n});","map":{"version":3,"mappings":"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","names":["AwesomeMap","$","sanitizeCenter","string","parts","split","length","lat","parseFloat","lng","config","data","center","zoom","menu","amendments","meetings","categories","hashtags","mergeComponents","show","withdrawn","accepted","evaluating","notAnswered","rejected","hideControls","collapsedMenu","components","on","evt","map","off","window","loadControllers"],"sources":["/home/injam/.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/gems/decidim-decidim_awesome-0.8.3/app/packs/src/decidim/decidim_awesome/awesome_map/load_map.js"],"sourcesContent":["import AwesomeMap from \"src/decidim/decidim_awesome/awesome_map/awesome_map\"\n\n$(() => {\n  const sanitizeCenter = (string) => {\n    if (string) {\n      const parts = string.split(\",\")\n      if (parts.length >= 2) {\n        const lat = parseFloat(parts[0]);\n        const lng = parseFloat(parts[1]);\n        if (lat && lng) {\n          return [lat, lng];\n        }\n      }\n    }\n  };\n\n  const config = {\n    length: $(\"#awesome-map\").data(\"truncate\") || 254,\n    center: sanitizeCenter($(\"#awesome-map\").data(\"map-center\")),\n    zoom: $(\"#awesome-map\").data(\"map-zoom\"),    \n    menu: {\n      amendments: $(\"#awesome-map\").data(\"menu-amendments\"),\n      meetings: $(\"#awesome-map\").data(\"menu-meetings\"),\n      categories: $(\"#awesome-map\").data(\"menu-categories\"),\n      hashtags: $(\"#awesome-map\").data(\"menu-hashtags\"),\n      mergeComponents: $(\"#awesome-map\").data(\"menu-merge-components\")\n    },\n    show: {\n      withdrawn: $(\"#awesome-map\").data(\"show-withdrawn\"),\n      accepted: $(\"#awesome-map\").data(\"show-accepted\"),\n      evaluating: $(\"#awesome-map\").data(\"show-evaluating\"),\n      notAnswered: $(\"#awesome-map\").data(\"show-not-answered\"),\n      rejected: $(\"#awesome-map\").data(\"show-rejected\")\n    },\n    hideControls: $(\"#awesome-map\").data(\"hide-controls\"),\n    collapsedMenu: $(\"#awesome-map\").data(\"collapsed\"),\n    components: $(\"#awesome-map\").data(\"components\")\n  };\n\n  // build awesome map (if exist)\n  $(\"#awesome-map .google-map\").on(\"ready.decidim\", (evt, map) => {\n    // bindPopup doesn't work for some unknown cause and these handler neither so we're cancelling them\n    map.off(\"popupopen\");\n    map.off(\"popupclose\");\n\n    // console.log(\"ready map\", map);\n\n    window.AwesomeMap = new AwesomeMap(map, config);\n    window.AwesomeMap.loadControllers();\n  });\n});\n"]},"metadata":{},"sourceType":"module"}